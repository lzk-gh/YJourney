import{c as Z,n as L,t as ae,u as ue,e as le,O as Ye,Q as dt,i as q,I as de,w as te,U as Pe,V as Ve,k as ft,T as ht,W as vt,m as p,x as ne,s as Le,X as gt,E as Te,f as re,Y as We,Z as bt,_ as mt,p as be,$ as yt,L as $e,M as he,G as xt,C as Ct,o as Ze,a0 as Oe,z as Xe,b as Ge,j as Me,a1 as ze,F as ee,a2 as kt,l as _e,K as _t,y as Je,a3 as wt,a4 as St,a5 as It,a6 as je,A as Be,a7 as Tt,a as $t,q as Bt,a8 as Rt}from"./index-a3b8b258.js";import{S as At,a as Et}from"./index-4d33f0bd.js";import{g as X,h as u,y as Pt,t as me,r as O,j as A,m as Qe,w as U,n as Y,k as Ne,s as De,O as Vt,e as Lt,f as Ot,l as Mt,i as pe,v as et,q as zt,_ as tt,z as nt,o as j,c as J,P as at,b as Re,F as ce,E as fe,C as Nt,I as Ae,D as Ee,A as Dt}from"./index-ab6fab78.js";import{c as Ft,u as lt}from"./city-48e573cf.js";const[Wt,ie]=Z("cell"),ot={icon:String,size:String,title:L,value:L,label:L,center:Boolean,isLink:Boolean,border:ae,required:Boolean,iconPrefix:String,valueClass:ue,labelClass:ue,titleClass:ue,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},jt=le({},ot,Ye);var Ht=X({name:Wt,props:jt,setup(e,{slots:n}){const a=dt(),c=()=>{if(n.label||q(e.label))return u("div",{class:[ie("label"),e.labelClass]},[n.label?n.label():e.label])},l=()=>{if(n.title||q(e.title))return u("div",{class:[ie("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():u("span",null,[e.title]),c()])},o=()=>{const i=n.value||n.default;if(i||q(e.value)){const C=n.title||q(e.title);return u("div",{class:[ie("value",{alone:!C}),e.valueClass]},[i?i():u("span",null,[e.value])])}},r=()=>{if(n.icon)return n.icon();if(e.icon)return u(de,{name:e.icon,class:ie("left-icon"),classPrefix:e.iconPrefix},null)},v=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const i=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return u(de,{name:i,class:ie("right-icon")},null)}};return()=>{var i,f;const{size:C,center:b,border:_,isLink:d,required:$}=e,g=(i=e.clickable)!=null?i:d,T={center:b,required:$,clickable:g,borderless:!_};return C&&(T[C]=!!C),u("div",{class:ie(T),role:g?"button":void 0,tabindex:g?0:void 0,onClick:a},[r(),l(),o(),v(),(f=n.extra)==null?void 0:f.call(n)])}}});const it=te(Ht);function qt(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Kt(e,n){return!(n.required&&qt(e)||n.pattern&&!n.pattern.test(String(e)))}function Ut(e,n){return new Promise(a=>{const c=n.validator(e,n);if(ht(c)){c.then(a);return}a(c)})}function He(e,n){const{message:a}=n;return vt(a)?a(e,n):a||""}function Yt({target:e}){e.composing=!0}function qe({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Zt(e,n){const a=Pe();e.style.height="auto";let c=e.scrollHeight;if(ft(n)){const{maxHeight:l,minHeight:o}=n;l!==void 0&&(c=Math.min(c,l)),o!==void 0&&(c=Math.max(c,o))}c&&(e.style.height=`${c}px`,Ve(a))}function Xt(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function we(e){return[...e].length}function Gt(e,n){return[...e].slice(0,n).join("")}let Jt=0;function ye(){const e=Pt(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++Jt}`}const[Qt,W]=Z("field"),Fe={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:L,formatter:Function,clearIcon:p("clear"),modelValue:ne(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:p("focus"),formatTrigger:p("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},pt=le({},ot,Fe,{rows:L,type:p("text"),rules:Array,autosize:[Boolean,Object],labelWidth:L,labelClass:ue,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var en=X({name:Qt,props:pt,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:n,slots:a}){const c=ye(),l=me({status:"unvalidated",focused:!1,validateMessage:""}),o=O(),r=O(),{parent:v}=Le(gt),i=()=>{var t;return String((t=e.modelValue)!=null?t:"")},f=t=>{if(q(e[t]))return e[t];if(v&&q(v.props[t]))return v.props[t]},C=A(()=>{const t=f("readonly");if(e.clearable&&!t){const m=i()!=="",k=e.clearTrigger==="always"||e.clearTrigger==="focus"&&l.focused;return m&&k}return!1}),b=A(()=>r.value&&a.input?r.value():e.modelValue),_=t=>t.reduce((m,k)=>m.then(()=>{if(l.status==="failed")return;let{value:P}=b;if(k.formatter&&(P=k.formatter(P,k)),!Kt(P,k)){l.status="failed",l.validateMessage=He(P,k);return}if(k.validator)return Ut(P,k).then(K=>{K&&typeof K=="string"?(l.status="failed",l.validateMessage=K):K===!1&&(l.status="failed",l.validateMessage=He(P,k))})}),Promise.resolve()),d=()=>{l.status="unvalidated",l.validateMessage=""},$=()=>n("end-validate",{status:l.status}),g=(t=e.rules)=>new Promise(m=>{d(),t?(n("start-validate"),_(t).then(()=>{l.status==="failed"?(m({name:e.name,message:l.validateMessage}),$()):(l.status="passed",m(),$())})):m()}),T=t=>{if(v&&e.rules){const{validateTrigger:m}=v.props,k=We(m).includes(t),P=e.rules.filter(K=>K.trigger?We(K.trigger).includes(t):k);P.length&&g(P)}},M=t=>{const{maxlength:m}=e;if(q(m)&&we(t)>m){const k=i();return k&&we(k)===+m?k:Gt(t,+m)}return t},E=(t,m="onChange")=>{if(t=M(t),e.type==="number"||e.type==="digit"){const k=e.type==="number";t=bt(t,k,k)}e.formatter&&m===e.formatTrigger&&(t=e.formatter(t)),o.value&&o.value.value!==t&&(o.value.value=t),t!==e.modelValue&&n("update:modelValue",t)},Q=t=>{t.target.composing||E(t.target.value)},N=()=>{var t;return(t=o.value)==null?void 0:t.blur()},x=()=>{var t;return(t=o.value)==null?void 0:t.focus()},V=()=>{const t=o.value;e.type==="textarea"&&e.autosize&&t&&Zt(t,e.autosize)},y=t=>{l.focused=!0,n("focus",t),Y(V),f("readonly")&&N()},S=t=>{f("readonly")||(l.focused=!1,E(i(),"onBlur"),n("blur",t),T("onBlur"),Y(V),yt())},I=t=>n("click-input",t),B=t=>n("click-left-icon",t),R=t=>n("click-right-icon",t),D=t=>{be(t),n("update:modelValue",""),n("clear",t)},H=A(()=>{if(typeof e.error=="boolean")return e.error;if(v&&v.props.showError&&l.status==="failed")return!0}),F=A(()=>{const t=f("labelWidth");if(t)return{width:Te(t)}}),z=t=>{t.keyCode===13&&(!(v&&v.props.submitOnEnter)&&e.type!=="textarea"&&be(t),e.type==="search"&&N()),n("keypress",t)},oe=()=>e.id||`${c}-input`,G=()=>l.status,xe=()=>{const t=W("control",[f("inputAlign"),{error:H.value,custom:!!a.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(a.input)return u("div",{class:t,onClick:I},[a.input()]);const m={id:oe(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${c}-label`:void 0,onBlur:S,onFocus:y,onInput:Q,onClick:I,onChange:qe,onKeypress:z,onCompositionend:qe,onCompositionstart:Yt};return e.type==="textarea"?u("textarea",m,null):u("input",De(Xt(e.type),m),null)},ve=()=>{const t=a["left-icon"];if(e.leftIcon||t)return u("div",{class:W("left-icon"),onClick:B},[t?t():u(de,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Ce=()=>{const t=a["right-icon"];if(e.rightIcon||t)return u("div",{class:W("right-icon"),onClick:R},[t?t():u(de,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},ke=()=>{if(e.showWordLimit&&e.maxlength){const t=we(i());return u("div",{class:W("word-limit")},[u("span",{class:W("word-num")},[t]),Vt("/"),e.maxlength])}},s=()=>{if(v&&v.props.showErrorMessage===!1)return;const t=e.errorMessage||l.validateMessage;if(t){const m=a["error-message"],k=f("errorMessageAlign");return u("div",{class:W("error-message",k)},[m?m({message:t}):t])}},h=()=>{const t=f("colon")?":":"";if(a.label)return[a.label(),t];if(e.label)return u("label",{id:`${c}-label`,for:oe()},[e.label+t])},w=()=>[u("div",{class:W("body")},[xe(),C.value&&u(de,{name:e.clearIcon,class:W("clear"),onTouchstart:D},null),Ce(),a.button&&u("div",{class:W("button")},[a.button()])]),ke(),s()];return re({blur:N,focus:x,validate:g,formValue:b,resetValidation:d,getValidationStatus:G}),Qe(mt,{customValue:r,resetValidation:d,validateWithTrigger:T}),U(()=>e.modelValue,()=>{E(i()),d(),T("onChange"),Y(V)}),Ne(()=>{E(i(),e.formatTrigger),Y(V)}),()=>{const t=f("disabled"),m=f("labelAlign"),k=h(),P=ve();return u(it,{size:e.size,icon:e.leftIcon,class:W({error:H.value,disabled:t,[`label-${m}`]:m}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:F.value,valueClass:W("value"),titleClass:[W("label",[m,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:P?()=>P:null,title:k?()=>k:null,value:w,extra:a.extra})}}});const tn=te(en);function nn(e,n,a){let c=0;const l=e.scrollLeft,o=a===0?1:Math.round(a*1e3/16);function r(){e.scrollLeft+=(n-l)/o,++c<o&&$e(r)}r()}function an(e,n,a,c){let l=he(e);const o=l<n,r=a===0?1:Math.round(a*1e3/16),v=(n-l)/r;function i(){l+=v,(o&&l>n||!o&&l<n)&&(l=n),xt(e,l),o&&l<n||!o&&l>n?$e(i):c&&$e(c)}i()}function ln(e,n){if(!Ct||!window.IntersectionObserver)return;const a=new IntersectionObserver(o=>{n(o[0].intersectionRatio>0)},{root:document.body}),c=()=>{e.value&&a.observe(e.value)},l=()=>{e.value&&a.unobserve(e.value)};Lt(l),Ot(l),Ze(c)}const[on,cn]=Z("sticky"),rn={zIndex:L,position:p("top"),container:Object,offsetTop:ne(0),offsetBottom:ne(0)};var sn=X({name:on,props:rn,emits:["scroll","change"],setup(e,{emit:n,slots:a}){const c=O(),l=Oe(c),o=me({fixed:!1,width:0,height:0,transform:0}),r=A(()=>Xe(e.position==="top"?e.offsetTop:e.offsetBottom)),v=A(()=>{const{fixed:b,height:_,width:d}=o;if(b)return{width:`${d}px`,height:`${_}px`}}),i=A(()=>{if(!o.fixed)return;const b=le(Ge(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${r.value}px`});return o.transform&&(b.transform=`translate3d(0, ${o.transform}px, 0)`),b}),f=b=>n("scroll",{scrollTop:b,isFixed:o.fixed}),C=()=>{if(!c.value||ze(c))return;const{container:b,position:_}=e,d=ee(c),$=he(window);if(o.width=d.width,o.height=d.height,_==="top")if(b){const g=ee(b),T=g.bottom-r.value-o.height;o.fixed=r.value>d.top&&g.bottom>0,o.transform=T<0?T:0}else o.fixed=r.value>d.top;else{const{clientHeight:g}=document.documentElement;if(b){const T=ee(b),M=g-T.top-r.value-o.height;o.fixed=g-r.value<d.bottom&&g>T.top,o.transform=M<0?-M:0}else o.fixed=g-r.value<d.bottom}f($)};return U(()=>o.fixed,b=>n("change",b)),Me("scroll",C,{target:l}),ln(c,C),()=>{var b;return u("div",{ref:c,style:v.value},[u("div",{class:cn({fixed:o.fixed}),style:i.value},[(b=a.default)==null?void 0:b.call(a)])])}}});const un=te(sn),[dn,Ke]=Z("tab");var fn=X({name:dn,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:L,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ae},setup(e,{slots:n}){const a=A(()=>{const l={},{type:o,color:r,disabled:v,isActive:i,activeColor:f,inactiveColor:C}=e;r&&o==="card"&&(l.borderColor=r,v||(i?l.backgroundColor=r:l.color=r));const _=i?f:C;return _&&(l.color=_),l}),c=()=>{const l=u("span",{class:Ke("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||q(e.badge)&&e.badge!==""?u(kt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[l]}):l};return()=>u("div",{id:e.id,role:"tab",class:[Ke([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[c()])}});const[hn,Ue]=Z("tabs");var vn=X({name:hn,props:{count:_e(Number),inited:Boolean,animated:Boolean,duration:_e(L),swipeable:Boolean,lazyRender:Boolean,currentIndex:_e(Number)},emits:["change"],setup(e,{emit:n,slots:a}){const c=O(),l=v=>n("change",v),o=()=>{var v;const i=(v=a.default)==null?void 0:v.call(a);return e.animated||e.swipeable?u(At,{ref:c,loop:!1,class:Ue("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:l},{default:()=>[i]}):i},r=v=>{const i=c.value;i&&i.state.active!==v&&i.swipeTo(v,{immediate:!e.inited})};return U(()=>e.currentIndex,r),Ne(()=>{r(e.currentIndex)}),()=>u("div",{class:Ue("content",{animated:e.animated||e.swipeable})},[o()])}});const[ct,ge]=Z("tabs"),gn={type:p("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ne(0),duration:ne(.3),animated:Boolean,ellipsis:ae,swipeable:Boolean,scrollspy:Boolean,offsetTop:ne(0),background:String,lazyRender:ae,lineWidth:L,lineHeight:L,beforeChange:Function,swipeThreshold:ne(5),titleActiveColor:String,titleInactiveColor:String},rt=Symbol(ct);var bn=X({name:ct,props:gn,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:n,slots:a}){let c,l,o;const r=O(),v=O(),i=O(),f=ye(),C=Oe(r),[b,_]=_t(),{children:d,linkChildren:$}=Je(rt),g=me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),T=A(()=>d.length>e.swipeThreshold||!e.ellipsis||e.shrink),M=A(()=>({borderColor:e.color,background:e.background})),E=(s,h)=>{var w;return(w=s.name)!=null?w:h},Q=A(()=>{const s=d[g.currentIndex];if(s)return E(s,g.currentIndex)}),N=A(()=>Xe(e.offsetTop)),x=A(()=>e.sticky?N.value+c:0),V=s=>{const h=v.value,w=b.value;if(!T.value||!h||!w||!w[g.currentIndex])return;const t=w[g.currentIndex].$el,m=t.offsetLeft-(h.offsetWidth-t.offsetWidth)/2;nn(h,m,s?0:+e.duration)},y=()=>{const s=g.inited;Y(()=>{const h=b.value;if(!h||!h[g.currentIndex]||e.type!=="line"||ze(r.value))return;const w=h[g.currentIndex].$el,{lineWidth:t,lineHeight:m}=e,k=w.offsetLeft+w.offsetWidth/2,P={width:Te(t),backgroundColor:e.color,transform:`translateX(${k}px) translateX(-50%)`};if(s&&(P.transitionDuration=`${e.duration}s`),q(m)){const K=Te(m);P.height=K,P.borderRadius=K}g.lineStyle=P})},S=s=>{const h=s<g.currentIndex?-1:1;for(;s>=0&&s<d.length;){if(!d[s].disabled)return s;s+=h}},I=s=>{const h=S(s);if(!q(h))return;const w=d[h],t=E(w,h),m=g.currentIndex!==null;g.currentIndex=h,t!==e.active&&(n("update:active",t),m&&n("change",t,w.title))},B=s=>{const h=d.find((t,m)=>E(t,m)===s),w=h?d.indexOf(h):0;I(w)},R=(s=!1)=>{if(e.scrollspy){const h=d[g.currentIndex].$el;if(h&&C.value){const w=je(h,C.value)-x.value;l=!0,an(C.value,w,s?0:+e.duration,()=>{l=!1})}}},D=(s,h,w)=>{const{title:t,disabled:m}=d[h],k=E(d[h],h);m?n("disabled",k,t):(Ft(e.beforeChange,{args:[k],done:()=>{I(h),R()}}),n("click",k,t),Tt(s)),n("click-tab",{name:k,title:t,event:w,disabled:m})},H=s=>{o=s.isFixed,n("scroll",s)},F=s=>{Y(()=>{B(s),R(!0)})},z=()=>{for(let s=0;s<d.length;s++){const{top:h}=ee(d[s].$el);if(h>x.value)return s===0?0:s-1}return d.length-1},oe=()=>{if(e.scrollspy&&!l){const s=z();I(s)}},G=()=>d.map((s,h)=>u(fn,De({key:s.id,id:`${f}-${h}`,ref:_(h),type:e.type,color:e.color,style:s.titleStyle,class:s.titleClass,shrink:e.shrink,isActive:h===g.currentIndex,controls:s.id,scrollable:T.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:w=>D(s,h,w)},Be(s,["dot","badge","title","disabled","showZeroBadge"])),{title:s.$slots.title})),xe=()=>{if(e.type==="line"&&d.length)return u("div",{class:ge("line"),style:g.lineStyle},null)},ve=()=>{var s,h;const{type:w,border:t}=e;return u("div",{ref:i,class:[ge("wrap"),{[It]:w==="line"&&t}]},[u("div",{ref:v,role:"tablist",class:ge("nav",[w,{shrink:e.shrink,complete:T.value}]),style:M.value,"aria-orientation":"horizontal"},[(s=a["nav-left"])==null?void 0:s.call(a),G(),xe(),(h=a["nav-right"])==null?void 0:h.call(a)])])};U([()=>e.color,wt],y),U(()=>e.active,s=>{s!==Q.value&&B(s)}),U(()=>d.length,()=>{g.inited&&(B(e.active),y(),Y(()=>{V(!0)}))}),U(()=>g.currentIndex,()=>{V(),y(),o&&!e.scrollspy&&Ve(Math.ceil(je(r.value)-N.value))});const Ce=()=>{B(e.active),Y(()=>{g.inited=!0,i.value&&(c=ee(i.value).height),V(!0)})},ke=(s,h)=>n("rendered",s,h);return re({resize:y,scrollTo:F}),Mt(y),St(y),Ze(Ce),Me("scroll",oe,{target:C}),$({id:f,props:e,setLine:y,onRendered:ke,currentName:Q,scrollIntoView:V}),()=>{var s;return u("div",{ref:r,class:ge([e.type])},[e.sticky?u(un,{container:r.value,offsetTop:N.value,onScroll:H},{default:()=>{var h;return[ve(),(h=a["nav-bottom"])==null?void 0:h.call(a)]}}):[ve(),(s=a["nav-bottom"])==null?void 0:s.call(a)],u(vn,{count:d.length,inited:g.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:g.currentIndex,onChange:I},{default:()=>{var h;return[(h=a.default)==null?void 0:h.call(a)]}})])}}});const mn=Symbol(),[yn,Se]=Z("tab"),xn=le({},Ye,{dot:Boolean,name:L,badge:L,title:String,disabled:Boolean,titleClass:ue,titleStyle:[String,Object],showZeroBadge:ae});var Cn=X({name:yn,props:xn,setup(e,{slots:n}){const a=ye(),c=O(!1),{parent:l,index:o}=Le(rt);if(!l)return;const r=()=>{var f;return(f=e.name)!=null?f:o.value},v=()=>{c.value=!0,l.props.lazyRender&&Y(()=>{l.onRendered(r(),e.title)})},i=A(()=>{const f=r()===l.currentName.value;return f&&!c.value&&v(),f});return U(()=>e.title,()=>{l.setLine(),l.scrollIntoView()}),Qe(mn,i),()=>{var f;const C=`${l.id}-${o.value}`,{animated:b,swipeable:_,scrollspy:d,lazyRender:$}=l.props;if(!n.default&&!b)return;const g=d||i.value;if(b||_)return u(Et,{id:a,role:"tabpanel",class:Se("panel-wrapper",{inactive:!i.value}),tabindex:i.value?0:-1,"aria-hidden":!i.value,"aria-labelledby":C},{default:()=>{var E;return[u("div",{class:Se("panel")},[(E=n.default)==null?void 0:E.call(n)])]}});const M=c.value||d||!$?(f=n.default)==null?void 0:f.call(n):null;return re({id:a}),pe(u("div",{id:a,role:"tabpanel",class:Se("panel"),tabindex:g?0:-1,"aria-labelledby":C},[M]),[[et,g]])}}});const kn=te(Cn),_n=te(bn);function wn(){const e="A".charCodeAt(0);return Array(26).fill("").map((a,c)=>String.fromCharCode(e+c))}const[st,Ie]=Z("index-bar"),Sn={sticky:ae,zIndex:L,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Bt(0),indexList:{type:Array,default:wn}},ut=Symbol(st);var In=X({name:st,props:Sn,emits:["select","change"],setup(e,{emit:n,slots:a}){const c=O(),l=O(""),o=$t(),r=Oe(c),{children:v,linkChildren:i}=Je(ut);let f;i({props:e});const C=A(()=>{if(q(e.zIndex))return{zIndex:+e.zIndex+1}}),b=A(()=>{if(e.highlightColor)return{color:e.highlightColor}}),_=(y,S)=>{for(let I=v.length-1;I>=0;I--){const B=I>0?S[I-1].height:0,R=e.sticky?B+e.stickyOffsetTop:0;if(y+R>=S[I].top)return I}return-1},d=y=>v.find(S=>String(S.index)===y),$=()=>{if(ze(c))return;const{sticky:y,indexList:S}=e,I=he(r.value),B=ee(r),R=v.map(H=>H.getRect(r.value,B));let D=-1;if(f){const H=d(f);if(H){const F=H.getRect(r.value,B);D=_(F.top,R)}}else D=_(I,R);l.value=S[D],y&&v.forEach((H,F)=>{const{state:z,$el:oe}=H;if(F===D||F===D-1){const G=oe.getBoundingClientRect();z.left=G.left,z.width=G.width}else z.left=null,z.width=null;if(F===D)z.active=!0,z.top=Math.max(e.stickyOffsetTop,R[F].top-I)+B.top;else if(F===D-1&&f===""){const G=R[D].top-I;z.active=G>0,z.top=G+B.top-R[F].height}else z.active=!1}),f=""},g=()=>{Y($)};Me("scroll",$,{target:r}),Ne(g),U(()=>e.indexList,g),U(l,y=>{y&&n("change",y)});const T=()=>e.indexList.map(y=>{const S=y===l.value;return u("span",{class:Ie("index",{active:S}),style:S?b.value:void 0,"data-index":y},[y])}),M=y=>{f=String(y);const S=d(f);if(S){const I=he(r.value),B=ee(r),{offsetHeight:R}=document.documentElement;if(I===R-B.height){$();return}S.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&Ve(Pe()-e.stickyOffsetTop),n("select",S.index)}},E=y=>{const{index:S}=y.dataset;S&&M(S)},Q=y=>{E(y.target)};let N;const x=y=>{if(o.move(y),o.isVertical()){be(y);const{clientX:S,clientY:I}=y.touches[0],B=document.elementFromPoint(S,I);if(B){const{index:R}=B.dataset;R&&N!==R&&(N=R,E(B))}}},V=()=>u("div",{class:Ie("sidebar"),style:C.value,onClick:Q,onTouchstart:o.start,onTouchmove:x},[T()]);return re({scrollTo:M}),()=>{var y;return u("div",{ref:c,class:Ie()},[e.teleport?u(zt,{to:e.teleport},{default:()=>[V()]}):V(),(y=a.default)==null?void 0:y.call(a)])}}});const[Tn,$n]=Z("index-anchor"),Bn={index:L};var Rn=X({name:Tn,props:Bn,setup(e,{slots:n}){const a=me({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),c=O(),{parent:l}=Le(ut);if(!l)return;const o=()=>a.active&&l.props.sticky,r=A(()=>{const{zIndex:i,highlightColor:f}=l.props;if(o())return le(Ge(i),{left:a.left?`${a.left}px`:void 0,width:a.width?`${a.width}px`:void 0,transform:a.top?`translate3d(0, ${a.top}px, 0)`:void 0,color:f})});return re({state:a,getRect:(i,f)=>{const C=ee(c);return a.rect.height=C.height,i===window||i===document.body?a.rect.top=C.top+Pe():a.rect.top=C.top+he(i)-f.top,a.rect}}),()=>{const i=o();return u("div",{ref:c,style:{height:i?`${a.rect.height}px`:void 0}},[u("div",{style:r.value,class:[$n({sticky:i}),{[Rt]:i}]},[n.default?n.default():e.index])])}}});const An=te(Rn),En=te(In),[Pn,se,Vn]=Z("search"),Ln=le({},Fe,{label:String,shape:p("square"),leftIcon:p("search"),clearable:ae,actionText:String,background:String,showAction:Boolean});var On=X({name:Pn,props:Ln,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:n,slots:a,attrs:c}){const l=ye(),o=O(),r=()=>{a.action||(n("update:modelValue",""),n("cancel"))},v=x=>{x.keyCode===13&&(be(x),n("search",e.modelValue))},i=()=>e.id||`${l}-input`,f=()=>{if(a.label||e.label)return u("label",{class:se("label"),for:i()},[a.label?a.label():e.label])},C=()=>{if(e.showAction){const x=e.actionText||Vn("cancel");return u("div",{class:se("action"),role:"button",tabindex:0,onClick:r},[a.action?a.action():x])}},b=()=>{var x;return(x=o.value)==null?void 0:x.blur()},_=()=>{var x;return(x=o.value)==null?void 0:x.focus()},d=x=>n("blur",x),$=x=>n("focus",x),g=x=>n("clear",x),T=x=>n("click-input",x),M=x=>n("click-left-icon",x),E=x=>n("click-right-icon",x),Q=Object.keys(Fe),N=()=>{const x=le({},c,Be(e,Q),{id:i()}),V=y=>n("update:modelValue",y);return u(tn,De({ref:o,type:"search",class:se("field"),border:!1,onBlur:d,onFocus:$,onClear:g,onKeypress:v,"onClick-input":T,"onClick-left-icon":M,"onClick-right-icon":E,"onUpdate:modelValue":V},x),Be(a,["left-icon","right-icon"]))};return re({focus:_,blur:b}),()=>{var x;return u("div",{class:se({"show-action":e.showAction}),style:{background:e.background}},[(x=a.left)==null?void 0:x.call(a),u("div",{class:se("content",e.shape)},[f(),N()]),C()])}}});const Mn=te(On);const zn={class:"city-group"},Nn={class:"hot-list"},Dn=["onClick"],Fn={__name:"city-group",props:{groupData:{type:Object,default:()=>({})}},setup(e){const n=e,a=A(()=>{const r=n.groupData.cities.map(v=>v.group);return r.unshift("#"),r}),c=nt(),l=lt(),o=r=>{l.currentCityName=r,c.back()};return(r,v)=>{const i=An,f=it,C=En;return j(),J("div",zn,[u(C,{"index-list":Ee(a)},{default:at(()=>[u(i,{index:"热门"}),Re("div",Nn,[(j(!0),J(ce,null,fe(e.groupData.hotCities,(b,_)=>(j(),J("div",{class:"hotCity",onClick:d=>o(b)},Nt(b.cityName),9,Dn))),256))]),(j(!0),J(ce,null,fe(e.groupData.cities,b=>(j(),J(ce,null,[u(i,{index:b.group},null,8,["index"]),(j(!0),J(ce,null,fe(b.cities,(_,d)=>(j(),Ae(f,{key:d,title:_.cityName,onClick:$=>o(_)},null,8,["title","onClick"]))),128))],64))),256))]),_:1},8,["index-list"])])}}},Wn=tt(Fn,[["__scopeId","data-v-419c19c1"]]);const jn={class:"city"},Hn={class:"top"},qn={class:"content"},Kn={__name:"city",setup(e){const n=O(""),a=nt(),c=()=>{a.back()},l=lt();l.fetchAllCitiesData();const{allCities:o}=Dt(l),r=O();return(v,i)=>{const f=Mn,C=kn,b=_n;return j(),J("div",jn,[Re("div",Hn,[u(f,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=_=>n.value=_),placeholder:"城市/区域/位置",shape:"round","show-action":"",onCancel:c},null,8,["modelValue"]),u(b,{active:r.value,"onUpdate:active":i[1]||(i[1]=_=>r.value=_),color:"#ff9854"},{default:at(()=>[(j(!0),J(ce,null,fe(Ee(o),(_,d,$)=>(j(),Ae(C,{key:d,title:_.title,name:d},null,8,["title","name"]))),128))]),_:1},8,["active"])]),Re("div",qn,[(j(!0),J(ce,null,fe(Ee(o),(_,d,$)=>pe((j(),Ae(Wn,{"group-data":_,"highlight-color":"#ff9854"},null,8,["group-data"])),[[et,r.value===d]])),256))])])}}},Gn=tt(Kn,[["__scopeId","data-v-e0616de4"]]);export{Gn as default};
